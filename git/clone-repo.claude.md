# clone-repo.sh

GitHub ë©€í‹° ê³„ì • í™˜ê²½ì—ì„œ ë ˆí¬ì§€í† ë¦¬ë¥¼ ëŒ€í™”í˜•ìœ¼ë¡œ í´ë¡ í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤. fzf ê¸°ë°˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ê³„ì •, íƒ€ì…, ë ˆí¬ë¥¼ ì„ íƒí•˜ì—¬ ìë™ìœ¼ë¡œ ì •ë¦¬ëœ ë””ë ‰í† ë¦¬ êµ¬ì¡°ì— í´ë¡ í•©ë‹ˆë‹¤.

## ëª©ì 

- ì—¬ëŸ¬ GitHub ê³„ì •ì˜ ë ˆí¬ì§€í† ë¦¬ ê´€ë¦¬
- ê°œì¸/ì¡°ì§ ë ˆí¬ ìë™ ë¶„ë¥˜
- ì¤‘ë³µ í´ë¡  ë°©ì§€
- ì‚¬ìš©ì ì¹œí™”ì ì¸ ëŒ€í™”í˜• ì¸í„°í˜ì´ìŠ¤

## ì£¼ìš” ê¸°ëŠ¥

### 1. ê³„ì • ìë™ íƒì§€
- `~/github/` í´ë”ì˜ ë””ë ‰í† ë¦¬ ìë™ ìŠ¤ìº”
- `.gitconfig-{username}` íŒŒì¼ì—ì„œ ì´ë©”ì¼/ì´ë¦„ í‘œì‹œ
- ê³„ì • ì„ íƒ ì‹œ ìë™ìœ¼ë¡œ `gh auth switch` ì‹œë„

### 2. ë ˆí¬ì§€í† ë¦¬ íƒ€ì… ì„ íƒ
- **ë‚´ ë ˆí¬ì§€í† ë¦¬**: ê°œì¸ ì†Œìœ  ë ˆí¬
- **ì¡°ì§ ë ˆí¬ì§€í† ë¦¬**: ì°¸ì—¬ ì¤‘ì¸ ì¡°ì§ì˜ ë ˆí¬
  - ì¡°ì§ ëª©ë¡ ìë™ ì¡°íšŒ (GitHub API)
  - ì¡°ì§ ì„ íƒ í›„ í•´ë‹¹ ì¡°ì§ ë ˆí¬ ëª©ë¡ í‘œì‹œ

### 3. í´ë¡  ë°©ì‹ ì„ íƒ
- **ì „ì²´ í´ë¡ **: í´ë¡  ê°€ëŠ¥í•œ ëª¨ë“  ë ˆí¬ë¥¼ í•œ ë²ˆì—
- **ì„ íƒì  í´ë¡ **: fzf ë‹¤ì¤‘ ì„ íƒìœ¼ë¡œ ì›í•˜ëŠ” ë ˆí¬ë§Œ

### 4. ìë™ ë””ë ‰í† ë¦¬ ì •ë¦¬
- ê°œì¸ ë ˆí¬: `~/github/{ê³„ì •}/{ë ˆí¬ëª…}`
- ì¡°ì§ ë ˆí¬: `~/github/{ê³„ì •}/{ì¡°ì§ëª…}/{ë ˆí¬ëª…}`

### 5. ìŠ¤ë§ˆíŠ¸ ê¸°ëŠ¥
- ì´ë¯¸ í´ë¡ ëœ ë ˆí¬ ìë™ í•„í„°ë§ (ì¤‘ë³µ ë°©ì§€)
- 5ê°œ ì´ìƒ í´ë¡  ì‹œ í™•ì¸ ë©”ì‹œì§€
- ê° ë ˆí¬ í´ë¡  í›„ Git ì„¤ì • í‘œì‹œ (user.name, user.email)
- ì´ì „ ë‹¨ê³„ë¡œ ëŒì•„ê°€ê¸° ì§€ì›

## ì‚¬ìš©ë²•

```bash
./clone-repo.sh
```

## ì‚¬ìš© íë¦„

```
1. ê³„ì • ì„ íƒ
   â†“
2. gh auth switch ì‹œë„
   â†“
3. íƒ€ì… ì„ íƒ (ë‚´ ë ˆí¬ / ì¡°ì§ ë ˆí¬)
   â†“
4. [ì¡°ì§ ë ˆí¬ì¸ ê²½ìš°] ì¡°ì§ ì„ íƒ
   â†“
5. ë ˆí¬ ëª©ë¡ ì¡°íšŒ (GitHub API)
   â†“
6. ì´ë¯¸ í´ë¡ ëœ ë ˆí¬ í•„í„°ë§
   â†“
7. í´ë¡  ë°©ì‹ ì„ íƒ (ì „ì²´ / ì„ íƒì )
   â†“
8. [ì„ íƒì ì¸ ê²½ìš°] fzf ë‹¤ì¤‘ ì„ íƒ
   â†“
9. í´ë¡  ì§„í–‰
   â†“
10. ë‹¤ìŒ ì‘ì—… ì„ íƒ (ë‹¤ì‹œ í´ë¡  / ì²˜ìŒìœ¼ë¡œ / ì¢…ë£Œ)
```

## fzf ë‹¨ì¶•í‚¤

### ê³„ì •/ì¡°ì§ ì„ íƒ
- `â†‘â†“`: ì´ë™
- `Enter`: ì„ íƒ
- `ESC`: ì¢…ë£Œ

### ë ˆí¬ ë‹¤ì¤‘ ì„ íƒ
- `â†‘â†“`: ì´ë™
- `Tab`: ì„ íƒ/í•´ì œ (ì•ì— `>` í‘œì‹œ)
- `Enter`: ì„ íƒ í™•ì •
- `ESC`: ì·¨ì†Œ
- **íƒ€ì´í•‘**: ì‹¤ì‹œê°„ ê²€ìƒ‰ í•„í„°ë§
- `Ctrl+P/N`: ì´ì „/ë‹¤ìŒ í•­ëª©
- `--preview`: ì˜¤ë¥¸ìª½ì— ë ˆí¬ ì •ë³´ ë¯¸ë¦¬ë³´ê¸°

## ì¶œë ¥ ì˜ˆì‹œ

### ê³„ì • ì„ íƒ
```
ğŸš€ GitHub ë ˆí¬ì§€í† ë¦¬ í´ë¡ 

ê³„ì •>
  koalakid1
  koalakid2
  âŒ ì¢…ë£Œ
```

### ê³„ì • ì „í™˜
```
âœ“ ì„ íƒëœ ê³„ì •: koalakid1
  ì´ë©”ì¼: koalakid154@gmail.com
  ì´ë¦„: koalakid

ğŸ”„ koalakid1 ê³„ì •ìœ¼ë¡œ ì „í™˜ ì‹œë„ ì¤‘...
âœ… ê³„ì • ì „í™˜ ì™„ë£Œ!
âœ“ í™œì„±í™”ëœ GitHub ê³„ì •: koalakid1
```

### í´ë¡  ì§„í–‰
```
----------------------------------------
ğŸ”„ í´ë¡  ì¤‘ (1/3): koalakid1/my-repo
   ê²½ë¡œ: /home/user/github/koalakid1/my-repo
âœ… koalakid1/my-repo í´ë¡  ì™„ë£Œ!
   User: koalakid <koalakid154@gmail.com>

----------------------------------------
ğŸ”„ í´ë¡  ì¤‘ (2/3): serengeti/org-repo
   ê²½ë¡œ: /home/user/github/koalakid1/serengeti/org-repo
âœ… serengeti/org-repo í´ë¡  ì™„ë£Œ!
   User: koalakid <koalakid154@gmail.com>
```

### ê²°ê³¼ ìš”ì•½
```
========================================
ğŸ“Š í´ë¡  ì™„ë£Œ!
   âœ… ì„±ê³µ: 2ê°œ
   âŒ ì‹¤íŒ¨: 0ê°œ

ğŸ“‚ ë””ë ‰í† ë¦¬: /home/user/github/koalakid1

ğŸ’¡ Tip: ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ í´ë¡ ëœ ë ˆí¬ì§€í† ë¦¬ í™•ì¸:
   ls -la /home/user/github/koalakid1

ë‹¤ìŒ ì‘ì—…>
  ë‹¤ì‹œ í´ë¡ í•˜ê¸°
  ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
  ì¢…ë£Œ
```

## ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

### ê³„ì • íƒì§€
```bash
github_base="$HOME/github"
mapfile -t accounts < <(find "$github_base" -maxdepth 1 -mindepth 1 -type d -exec basename {} \; 2>/dev/null | sort)
```

### GitHub API ì‚¬ìš© (gh CLI)
```bash
# ê°œì¸ ë ˆí¬ ëª©ë¡
gh repo list --limit 1000 --json nameWithOwner -q '.[].nameWithOwner'

# ì¡°ì§ ëª©ë¡
gh api user/orgs --jq '.[].login'

# ì¡°ì§ ë ˆí¬ ëª©ë¡
gh repo list "$selected_org" --limit 1000 --json nameWithOwner -q '.[].nameWithOwner'
```

### ì¤‘ë³µ í´ë¡  ë°©ì§€
```bash
for repo in "${repos[@]}"; do
    owner=$(echo "$repo" | cut -d'/' -f1)
    repo_name=$(basename "$repo")

    if [ "$owner" = "$github_username" ]; then
        local_path="$base_dir/$repo_name"
    else
        local_path="$base_dir/$owner/$repo_name"
    fi

    if [ ! -d "$local_path" ]; then
        available_repos+=("$repo")
    fi
done
```

### Git í´ë¡ 
```bash
git clone "git@github.com:$selected_repo.git"
```

URLì€ ìë™ìœ¼ë¡œ `git@github-{username}:`ìœ¼ë¡œ ë³€í™˜ë©ë‹ˆë‹¤ (`~/.gitconfig-{username}`ì˜ `insteadOf` ì„¤ì •).

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
~/github/
â”œâ”€â”€ koalakid1/
â”‚   â”œâ”€â”€ my-repo/              # ê°œì¸ ë ˆí¬
â”‚   â”œâ”€â”€ my-project/           # ê°œì¸ ë ˆí¬
â”‚   â””â”€â”€ serengeti/            # ì¡°ì§ í´ë”
â”‚       â”œâ”€â”€ org-repo1/
â”‚       â””â”€â”€ org-repo2/
â””â”€â”€ koalakid2/
    â”œâ”€â”€ work-repo/            # ê°œì¸ ë ˆí¬
    â””â”€â”€ aifrica/              # ì¡°ì§ í´ë”
        â””â”€â”€ company-repo/
```

## ê³„ì • ë¶ˆì¼ì¹˜ ê²½ê³ 

ì„ íƒí•œ ê³„ì •ê³¼ `gh` CLI ë¡œê·¸ì¸ ê³„ì •ì´ ë‹¤ë¥¼ ê²½ìš°:

```
âš ï¸  ê²½ê³ : ì„ íƒí•œ ê³„ì •ê³¼ í™œì„±í™”ëœ ê³„ì •ì´ ë‹¤ë¦…ë‹ˆë‹¤!
   ì„ íƒ: koalakid2
   í™œì„±í™”: koalakid1

   'koalakid1' ê³„ì •ì˜ ë ˆí¬ì§€í† ë¦¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.

ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N):
```

ì´ ê²½ìš° `gh auth login`ìœ¼ë¡œ ê³„ì •ì„ ì¶”ê°€í•˜ê±°ë‚˜ `gh auth switch`ë¡œ ì „í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

## ì—ëŸ¬ ì²˜ë¦¬

### GitHub CLI ì¸ì¦ í•„ìš”
```
âŒ GitHub CLI ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.
ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ 'koalakid1' ê³„ì •ì„ ë“±ë¡í•˜ì„¸ìš”:
   gh auth login
```

### ì¡°ì§ ì—†ìŒ
```
âŒ ì¡°ì§ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

### ë ˆí¬ì§€í† ë¦¬ ì—†ìŒ
```
âŒ ë ˆí¬ì§€í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```

### ëª¨ë“  ë ˆí¬ í´ë¡ ë¨
```
âœ… ëª¨ë“  ë ˆí¬ì§€í† ë¦¬ê°€ ì´ë¯¸ í´ë¡ ë˜ì–´ ìˆìŠµë‹ˆë‹¤!
```

## ë„¤ë¹„ê²Œì´ì…˜

ëª¨ë“  ì„ íƒ ë‹¨ê³„ì—ì„œ:
- **"â† ì´ì „ìœ¼ë¡œ"** ì˜µì…˜ìœ¼ë¡œ ì´ì „ ë‹¨ê³„ ë³µê·€
- **ESC** í‚¤ë¡œ ì¢…ë£Œ
- **"âŒ ì¢…ë£Œ"** ì„ íƒìœ¼ë¡œ ì¢…ë£Œ

## í•„ìˆ˜ ë„êµ¬

- **gh** (GitHub CLI) - ë ˆí¬ ëª©ë¡ ì¡°íšŒ
- **fzf** - ëŒ€í™”í˜• ì„ íƒ
- **git** - ë ˆí¬ í´ë¡ 

## ì œí•œì‚¬í•­

- ë ˆí¬ ëª©ë¡ ìµœëŒ€ 1000ê°œ (`--limit 1000`)
- Private ë ˆí¬ëŠ” í•´ë‹¹ ê³„ì •ì— gh CLI ì¸ì¦ì´ í•„ìš”
- SSH ì¸ì¦ ì‚¬ìš© (HTTPS ì•„ë‹˜)

## ê´€ë ¨ íŒŒì¼

- `setup-account.sh` - ê³„ì • ì„¤ì • (ì´ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì „ í•„ìš”)
- `CLONE_GUIDE.md` - ìƒì„¸ ì‚¬ìš© ê°€ì´ë“œ
- `~/.gitconfig-{username}` - Git ì„¤ì • (URL ì¬ì‘ì„±)
- `~/.ssh/config` - SSH ì„¤ì •

## ê²€ìƒ‰ ê¸°ëŠ¥

fzfì—ì„œ íƒ€ì´í•‘í•˜ë©´ ì‹¤ì‹œê°„ ê²€ìƒ‰:
- `react` â†’ reactê°€ í¬í•¨ëœ ë ˆí¬ë§Œ í‘œì‹œ
- `'wild` â†’ wildë¡œ ì‹œì‘í•˜ëŠ” ë ˆí¬
- `wild$` â†’ wildë¡œ ëë‚˜ëŠ” ë ˆí¬
- `!exclude` â†’ excludeë¥¼ í¬í•¨í•˜ì§€ ì•ŠëŠ” ë ˆí¬
